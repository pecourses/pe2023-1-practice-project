# FAQs about development modes

## Q: З якими БД встановлюється з'єднання під час тестування app?

A: Скрипт (`package.json`)

```
"test": "mocha ./tests/\*.test.js"
```

не змінює значення змінної оточення NODE_ENV, відповідно, при використанні app у тестах в `models/index.js` та `models/mongoModels/index.js` по дефолту встановлюється з'єднання з конфігами для режиму розробки "development", якщо не встановлено інакше.

## Q: Який режим розробки використовувати під час тестування?

A: Для тестування зазвичай використовують тестові бази даних, для чого встановлюється режим розробки "test".

Для цього потрібно:

1. Перевірити, чи є конфіги для баз даних у config/\* для режиму test (якщо ні, то прописати як "test")

2. Створити PostgreSQL БД, виконавши скрипти:

```
    npx sequelize --env 'test' db:create
    npx sequelize --env 'test' db:migrate
    npx sequelize --env 'test' db:seed:all
```

- при опції --env 'test' sequelize братиме налаштування підключення до бд з конфігів у властивості "test".

3. Встановити змінну оточення NODE_ENV=test під час запуску `npm test`, змінивши скрипт:

```
    "test": "NODE_ENV=test mocha ./tests/\*.test.js"
```

- для тестового app буде встановлюватися підключення до бд з конфігів як "test".
